---
layout: archive
title: "Publications"
permalink: /publications/
author_profile: true
---

{% if site.author.googlescholar %}
  <div class="wordwrap">You can also find my articles on <a href="https://scholar.google.com/citations?hl=en&user={{site.author.googlescholar}}">my Google Scholar profile</a>.</div>
{% endif %}

{% include base_path %}

{% if site.publication_category %}
  {% for category in site.publication_category  %}
    {% assign title_shown = false %}
    {% for post in site.publications reversed %}
      {% if post.category != category[0] %}
        {% continue %}
      {% endif %}
      {% unless title_shown %}
        <h2>{{ category[1].title }}</h2><hr />
        {% assign title_shown = true %}
      {% endunless %}
      {% include archive-single.html %}
    {% endfor %}
  {% endfor %}
{% else %}
  {% for post in site.publications reversed %}
    {% include archive-single.html %}
  {% endfor %}
{% endif %}

<script>
  function fixDarkColors() {
    const isDarkMode = document.documentElement.getAttribute('data-theme') === 'dark';
    if (isDarkMode) {
      // 找到所有摘要區塊
      const excerpts = document.querySelectorAll('.archive__item-excerpt');
      excerpts.forEach(el => {
        el.style.color = '#ffffff';      // 強制純白
        el.style.opacity = '1';          // 強制完全不透明
        // 針對內部的子元素（如作者名）
        const children = el.querySelectorAll('*');
        children.forEach(child => {
          child.style.color = '#ffffff';
          child.style.opacity = '1';
        });
      });
    }
  }

  // 網頁載入時執行
  window.addEventListener('load', fixDarkColors);
  // 監聽主題切換動作 (如果你的主題切換會觸發 attribute 改變)
  const observer = new MutationObserver(fixDarkColors);
  observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
</script>

<style>
  /* 保持標題為亮藍色，不被 JS 影響 */
  [data-theme="dark"] .archive__item-title a { color: #4493f8 !important; }
</style>
